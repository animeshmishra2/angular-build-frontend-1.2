<app-header></app-header>
<div class="wh-reports-container">
    <div class="main-card">
        <div class="flex justify-content-between">
            <div class="h1-txt p-2">
                <a appBackButton><mat-icon>arrow_back</mat-icon></a>
                Expiry Graph
            </div>
            <div class="flex gap-1 mr-3">
                <p-dropdown [options]="stores" class="p-1" optionValue="idstore_warehouse"
                    optionLabel="name" [(ngModel)]="selectedStore"
                    (onChange)="getSumOfAmount()"
                    placeholder="Select a Store"></p-dropdown>
                <p-dropdown [options]="warehouses" class="p-1" optionValue="idstore_warehouse"
                    optionLabel="name" [(ngModel)]="selectedWarehouse"
                    (onChange)="getSumOfAmount()"
                    placeholder="Select an Inventory"></p-dropdown>
            </div>
        </div>

        <div class="flex justify-content-center align-items-center">
            <p-selectButton styleClass="p-2" [options]="stateOptions" [(ngModel)]="value"
                optionLabel="label" optionValue="value"></p-selectButton>
        </div>
        <div class="grid">
            <div class="col-10 shadow-1">
                <h3 class="ml-2">
                    Product Quantity
                </h3>
                <p-chart type="bar" [data]="data" [options]="options"></p-chart>
            </div>
            <div class="col-2 shadow-1">
                <h3>
                    Product Amount
                </h3>
                <p-chart type="pie" [data]="pieData" [options]="pieOptions"></p-chart>
                <div class="flex flex-column justify-content-center align-items-center mt-3">
                    <span class="mt-2">
                        Expired Amount : {{pieData.datasets[0].data[1]}} /-
                    </span>
                    <span class="mt-2">
                        Total Amount : {{getSumOfAmount()}} /-
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>