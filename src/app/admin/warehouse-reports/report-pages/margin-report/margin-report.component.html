<app-header></app-header>
<div class="wh-reports-container">
    <div class="main-card">
        <div class="flex justify-content-between">
            <div class="h1-txt p-2">
                <a appBackButton><mat-icon>arrow_back</mat-icon></a>
                Margin Report
            </div>
        </div>
        <div class="p-2">
            <p-table [value]="tableData" responsiveLayout="scroll"
                styleClass="p-datatable-sm p-datatable-gridlines" [paginator]="true" [rows]="10"
                [showCurrentPageReport]="true" class="m-1" [tableStyle]="{ 'min-width': '50rem' }"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [rowsPerPageOptions]="[10, 50, 100]">
                <ng-template pTemplate="header">
                    <tr>
                        <th rowspan="2">Barcode</th>
                        <th rowspan="2">Name</th>
                        <th rowspan="2">Category Name</th>
                        <th rowspan="2">Selling Price</th>
                        <th rowspan="2">Purchase Price</th>
                        <th class="text-center" colspan="2">Selling Margin</th>
                        <th class="text-center" colspan="2">Purchase Margin</th>
                    </tr>
                    <tr class="text-center">
                        <th>%age</th>
                        <th>Amount</th>
                        <th>%age</th>
                        <th>Amount</th>
                    </tr>
                    <tr class="column-filter">
                        <th><p-columnFilter type="text" field="barcode"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="name"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="category_name"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="selling_price"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="purchase_price"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="selling_margin_percentage"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="selling_margin_rupees"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="purchase_margin_percentage"></p-columnFilter></th>
                        <th><p-columnFilter type="text" field="purchase_margin_rupees"></p-columnFilter>
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-record>
                    <tr>
                        <td>{{ record.barcode }}</td>
                        <td>{{ record.name }}</td>
                        <td>{{ record.category_name }}</td>
                        <td>{{ record.selling_price }}</td>
                        <td>{{ record.purchase_price }}</td>
                        <td>{{ record.selling_margin_percentage }}</td>
                        <td>{{ record.selling_margin_rupees | number:'1.2-2' }}</td>
                        <td>{{ record.purchase_margin_percentage }}</td>
                        <td>{{ record.purchase_margin_rupees | number:'1.2-2'}}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>